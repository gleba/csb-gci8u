parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"lZP1":[function(require,module,exports) {
var n;function t(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var e=function(n){var t=document.createElement("style");t.type="text/css",t.innerText=n,document.head.appendChild(t)};e(n||(n=t(["\n  .heart-donation {\n    max-width: 500px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    font-family: sans-serif;\n  }\n\n  .heart-donation .metric {\n    width: 100%;\n    height: 12px;\n    position: relative;\n    pointer-events: none;\n  }\n\n  .heart-donation .target {\n    position: absolute;\n    right: 0;\n    top: -200px;\n    text-align: right;\n    font-weight: bolder;\n    color: #0000ff;\n\n    -webkit-animation: slide-in-right 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)\n      both;\n    animation: slide-in-right 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;\n  }\n  .heart-donation .value {\n    font-size: 32px;\n  }\n  .heart-donation .target .value {\n    color: #000077;\n  }\n\n  .heart-donation .current {\n    position: absolute;\n    left: 0;\n    top: -48px;\n    text-align: left;\n    font-weight: bolder;\n    color: #0770077;\n\n    -webkit-animation: slide-in-left 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)\n      both;\n    animation: slide-in-left 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;\n  }\n\n  .heart-donation .current .value {\n    color: #00aa0055;\n  }\n  .heart-donation .name {\n    margin-top: -28px;\n    padding-bottom: 10px;\n    color: #ffaaaa;\n  }\n  .heart-donation button {\n    cursor: pointer;\n    padding: 13px;\n    font-weight: 800;\n    border: none;\n    /* box-shadow: 0px 0px 50px 1px #00000033 !important; */\n    -webkit-animation: shadow-drop-2-center 0.4s\n      cubic-bezier(0.25, 0.46, 0.45, 0.94) both;\n    animation: shadow-drop-2-center 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)\n      both;\n    transition: all 1s;\n  }\n\n  .heart-donation button:hover {\n    color: red;\n    box-shadow: 0px 0px 5px 1px #00000033 !important;\n    animation: none;\n  }\n  /* ----------------------------------------------\n * Generated by Animista on 2021-12-9 15:53:21\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n  /**\n * ----------------------------------------\n * animation shadow-drop-2-center\n * ----------------------------------------\n */\n  @-webkit-keyframes shadow-drop-2-center {\n    0% {\n      -webkit-transform: translateZ(0);\n      transform: translateZ(0);\n      -webkit-box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);\n      box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);\n    }\n    100% {\n      -webkit-transform: translateZ(50px);\n      transform: translateZ(50px);\n      -webkit-box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.25);\n      box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.25);\n    }\n  }\n  @keyframes shadow-drop-2-center {\n    0% {\n      -webkit-transform: translateZ(0);\n      transform: translateZ(0);\n      -webkit-box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);\n      box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);\n    }\n    100% {\n      -webkit-transform: translateZ(50px);\n      transform: translateZ(50px);\n      -webkit-box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.25);\n      box-shadow: 0 0 20px 0px rgba(0, 0, 0, 0.25);\n    }\n  }\n\n  /* ----------------------------------------------\n * Generated by Animista on 2021-12-9 16:3:53\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n  /**\n * ----------------------------------------\n * animation slide-in-right\n * ----------------------------------------\n */\n  @-webkit-keyframes slide-in-right {\n    0% {\n      -webkit-transform: translateX(1000px);\n      transform: translateX(1000px);\n      opacity: 0;\n    }\n    100% {\n      -webkit-transform: translateX(0);\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n  @keyframes slide-in-right {\n    0% {\n      -webkit-transform: translateX(1000px);\n      transform: translateX(1000px);\n      opacity: 0;\n    }\n    100% {\n      -webkit-transform: translateX(0);\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n\n  /* ----------------------------------------------\n * Generated by Animista on 2021-12-9 16:5:42\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n  /**\n * ----------------------------------------\n * animation slide-in-left\n * ----------------------------------------\n */\n  @-webkit-keyframes slide-in-left {\n    0% {\n      -webkit-transform: translateX(-1000px);\n      transform: translateX(-1000px);\n      opacity: 0;\n    }\n    100% {\n      -webkit-transform: translateX(0);\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n  @keyframes slide-in-left {\n    0% {\n      -webkit-transform: translateX(-1000px);\n      transform: translateX(-1000px);\n      opacity: 0;\n    }\n    100% {\n      -webkit-transform: translateX(0);\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n"])));
},{}],"ARfX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.svgHeart=void 0;var n=function(n){return'<path fill="#FF0000" stroke="none" d="\nM 299.05 89.4\nQ 304.15 60.75 281.7 31.55 218 -31.55 150 31.55 81.95 -31.55 18.3 31.55 -4.15 60.75 0.95 89.4 5.25 113.1 31.05 144.55 40.45 156 57.4 174.2 77.2 195.25 87.7 206.75 126.8 249.5 150 285.6\nL 150 285.65 150.05 285.6\nQ 173.2 249.5 212.3 206.75 222.75 195.25 242.6 174.2 259.5 156 268.95 144.55 294.75 113.1 299.05 89.4 Z">\n'.concat(n,"\n</path>")},t=function(n,t,a){return'\n<animate attributeName="fill-opacity"\ndur="'.concat(a,'s"\nvalues="').concat(t-.3,";").concat(n-.3,';"\nrepeatCount="indefinite"\n/>\n')},a=function(n,t,a){return'\n\n<animateTransform attributeName="transform"\nattributeType="XML"\ntype="scale"\nfrom="'.concat(n," ").concat(n,'"\nto="').concat(t," ").concat(t,'"\ndur="').concat(a,'s"\nrepeatCount="indefinite"/>\n')},e=function(n,t,a){var e=function(n){return 150-150*n};return'\n<animateTransform attributeName="transform"\nattributeType="XML"\ntype="translate"\nfrom="'.concat(e(n)," ").concat(e(n),'"\nto="').concat(e(t)," ").concat(e(t),'"\ndur="').concat(a,'s"\nrepeatCount="indefinite"/>')},c=function(){return"\n<g>\n  ".concat(e.apply(void 0,arguments),"\n  <g>\n    ").concat(a.apply(void 0,arguments),"\n    ").concat(n(t.apply(void 0,arguments)),"\n  </g>\n</g>")},o=function(n){return c(1,.3,n)+c(.3,1,n)},r='<svg width="200" height="200" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" fill="#fff">\n'.concat(o(3),"\n").concat(o(5),"\n").concat(o(8),"\n").concat(o(13),"\n</svg>");exports.svgHeart=r;
},{}],"umLb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeWidget=a;var t=require("./svg.heart"),e=function(t){var e=t.name,n=t.end_date,a=t.start_date;return"https://gps.raevskyteam.org/donation?name=".concat(e,"&end_date=").concat(n,"&start_date=").concat(a)},n=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"});function a(a){var r={name:a.getAttribute("data-name"),start_date:a.getAttribute("data-start"),end_date:a.getAttribute("data-end")},c=(a.getAttribute("data-url"),a.getAttribute("data-target"));a.innerHTML='\n  <div class="heart-donation">\n    '.concat(t.svgHeart,'\n    <div class="metric">\n      <div class="target" id="donate-target" >Необходимо <div class="value">').concat(n.format(c),'</div></div>\n      <div class="current" id="donate-target" ><div class="value">3497</div> Собрано </div>\n    </div>\n    <div class="name"> ').concat(r.name,' </div>\n    <button id="heart-donate-button">Пожертвовать любую сумму</button>\n  </div>\n  ');var o=a.children[0],d=o.children[1].children[0],i=o.children[1].children[1].children[0],s=setInterval(function(){i.innerHTML=Math.round(1e6*Math.random())},60);i.style.opacity="0.2";var l=function(){d.style.color="#0000FF33",d.children[0].style.opacity="0.1"};l(),fetch(e(r)).then(function(t){t.json().then(function(t){console.log(t),clearInterval(s),i.innerHTML=n.format(t.data),i.style.opacity="0.7"})}).catch(function(t){clearInterval(s),console.log("error",t)});var u=o.children[2];u.addEventListener("mouseover",function(t){d.style.color="#0000FF55",d.children[0].style.opacity="0.7",console.log(d)}),u.addEventListener("mouseout",l)}
},{"./svg.heart":"ARfX"}],"ARj2":[function(require,module,exports) {
"use strict";require("./css");var e=require("./widget");function n(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=t(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,c=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw c}}}}function t(e,n){if(e){if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function o(){var t=document.getElementsByClassName("heart-donor");console.log("xxx",t.length);var r,o=n(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;(0,e.makeWidget)(a)}}catch(c){o.e(c)}finally{o.f()}}document.addEventListener("DOMContentLoaded",function(e){console.log("document ready")}),window.document.addEventListener("DOMContentLoaded",function(){console.log("document ready")}),"loading"!==document.readyState?(console.log("document is already ready, just execute code here"),o()):document.addEventListener("DOMContentLoaded",function(){console.log("document was not ready, place code here"),o()});
},{"./css":"lZP1","./widget":"umLb"}]},{},["ARj2"], null)
//# sourceMappingURL=/csb-gci8u/heartdonation.78cb61a7.js.map